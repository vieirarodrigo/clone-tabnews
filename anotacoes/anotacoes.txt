### Git e GitHub

# O que √© Git?

O Git √© um sistema de controle de vers√£o distribu√≠do, gratuito e de c√≥digo aberto, que permite rastrear e gerenciar as altera√ß√µes em um projeto de software ao longo do tempo. Ele foi criado por Linus Torvalds em 2005. O Git √© uma ferramenta essencial para desenvolvedores, facilitando a colabora√ß√£o em projetos, a cria√ß√£o de vers√µes e a revers√£o de altera√ß√µes caso necess√°rio. 

O Git √© como se fosse um v√≠deo no meu computador.

# O que √© GitHub?

O GitHub √© uma plataforma online que funciona como um grande reposit√≥rio de c√≥digo de programa√ß√£o, onde desenvolvedores podem armazenar, compartilhar e colaborar em projetos. √â essencialmente uma rede social para programadores, facilitando o trabalho em equipe e a colabora√ß√£o em projetos de c√≥digo aberto. 

O GitHub √© como o YouTube, uma plataforma que posso compartilhar ou assistir outros videos.

Para criar uma conta no GitHub: https://docs.github.com/pt/get-started/start-your-journey/creating-an-account-on-github

Para criar um reposit√≥rio no GitHub: https://docs.github.com/pt/repositories/creating-and-managing-repositories/creating-a-new-repository

### Codespaces

# O que √© codespaces?

Um codespace √© um ambiente de desenvolvimento virtual e hospedado na nuvem, oferecido pelo GitHub. Permite que os desenvolvedores escrevam, testem e depurem c√≥digo diretamente na nuvem, sem a necessidade de configura√ß√µes locais complexas. 

Como criar um codespace para um reposit√≥rio: https://docs.github.com/pt/codespaces/developing-in-a-codespace/creating-a-codespace-for-a-repository

### Aten√ß√£o

Aprenda a fun√ß√£o das coisas, n√£o se preenda a gostos pessoais.

### Anota√ß√µes pessoais

O Git √© um controlador de vers√µes, ele cria e gerencia v√°rias vers√µes do projeto. Ele faz uma c√≥pia sempre que voc√™ o chama, n√£o copiando totalmente, mas indicando as altera√ß√µes que foram realizadas em cada vers√£o.

O GitHub √© uma rede social, no qual posso compartilhar projetos, acessar, editar, copiar e interagir com projetos de outras pessoas.

O codespaces √© um espa√ßo para eu desenvolver meus projetos, ele cria uma m√°quina virtual com o vscode e um terminal, no qual me permite desenvolver sem as limita√ß√µes de um computador f√≠sico mais modesto.

### Refer√™ncias:

https://www.atlassian.com/br/git/tutorials/what-is-git
https://docs.github.com/pt/get-startedstart-your-journey/about-github-and-git
https://docs.github.com/pt/codespaces/about-codespaces/what-are-codespaces

#################################

"Se voc√™ quiser fazer uma torta de ma√ß√£ a partir do zero, voc√™ deve primeiro inventar o Universo." - Carl Sagan

N√£o √© poss√≠vel hoje come√ßar algo do zero, vamos precisar subir no ombro de gigantes e al√ßar novos voos. Isso n√£o √© um problema, podemos fazer coisas incr√≠veis em comunidade.

### Node.js

# O que √© node.js

Node.js √© um ambiente de execu√ß√£o JavaScript do lado do servidor, que permite aos desenvolvedores criar aplica√ß√µes web, APIs, e outras ferramentas de linha de comando utilizando a linguagem JavaScript.

Node.js √© como uma cozinha que permite preparar receitas (aplica√ß√µes) usando um fog√£o (ambiente de execu√ß√£o) que entende a linguagem do JavaScript.

# Terminal 

Terminal √© uma interface de linha de comando que permite interagir com um sistema operacional atrav√©s de comandos digitados, sme a necissade de uma interface gr√°fica.

Terminal √© como um peda√ßo de papel, ele permite que voc√™ intereja com o sistema operacional, enquanto o shell √© o "motor" que interpreta e executa seus comandos.

# Shell

√â uma interface que permite aos utilizadores interagir com um sistema operacional.

√â como a casca de um ovo, que protege o conte√∫do interno.

# NVM (Node Version Manager)

NVM √© uma ferramenta que permite aos desenvolvedores gerenciar v√°rias cers√µes do Node.js em um √∫nico sistema operacional.

# Para acessar os detalhes do NVM use:

nvm --help (node version manager ajuda)

### Como instalar uma vers√£o espec√≠fica do Node.js?

1¬∫ Vamos precisar listar as vers√µes disponiveis,vamos usar o comando: 

nvm ls (node version manager list)

2¬∫ Escolha a vers√£o, por exemplo lts/hydrogen, para isso use os comandos:

nvm install lts/hydrogen (node version manager install version)

### Como deixar a vers√£o anterior como padr√£o

Para isso vamos precisar definir como padr√£o a vers√£o deseja, conforme abaixo:

nvm alias default <version> (node version manager apelido padr√£o vers√£o)

### Declarar a vers√£o utilizada no projeto

Para deixar claro para outras pessoas e padronizar o projeto, precisamos deixar claro qual vers√£o do node vai ser utilizado, fazemos isso da forma abaixo:

1¬∫ Crie o arquivo abaixo na pasta raiz do projeto.
.nvmrc (node version manager run commands)

2¬∫ Dentro escreva a vers√£o desejada e pule uma linha.

Exemplo:
"
lts/hydrogen

"

### Next.js

√â um framework React para construir aplica√ß√µes web, que fornece uma estrutura e recursos extras para otimizar o desenvolvimento e melhorar o desempenho das aplica√ß√µes.

√â como um motor que facilita a constru√ß√£o de aplica√ß√µes web com React.

Tamb√©m para o Next e o React, √© necess√°rio indicar no projeto quais vers√µes foram utilizadas. Para isso vamos:

1¬∫ Precisamos inicializar o node no nosso projeto e esse comando vai criar um arquivo package.json, usamos o comando:

npm init (node package manager initialize)

2¬∫ Vamos escolher a vers√£o do next.js que ser√° utilizado, nesse exemplo vamos usar a vers√£o 13.1.6:

npm install next@13.1.6 (node package manager install <version>)

### React

√â uma biblioteca JavaScript de software livre, popularmente utilizada para construir interfaces de usu√°rio do lado do cliente (front-end).

√â como um sistema de blocos de constru√ß√£o para interfaces de usu√°rio, onde cada bloco (componente) pode ser utilizado e combinado para criar aplica√ß√µes complexas.

√â necess√°rio instalar a vers√£o do react, nesse exemplo √© a 18.2.0:

npm install react@18.2.0 (node package install <version>)

O ponto √© que o React foi separado entre seu core e suas renderiza√ß√µes, pois ele √© extremamente vasto.

Para HTML, quem renderiza √© o DOM, para isso vamos instalar a vers√£o do react DOM, para manipula-lo:

npm install react-dom@18.2.0 (node package install <version>)






O que √© um servi√ßo web?

Protocolos

HTTP
FTP
SMTP
UDP
IP

UDP TCP

next dev
"dev": "next dev"


Ctrl + L

pages

index.js 

function Home() {
    return <h1>Teste</h1>
}

export default Home;

deploy



#################
Control History

Versionamento de c√≥digo

sccs -> rcs -> cvs -> svn -> git
       centralizado        | distribu√≠do

Merge

Merge conflict

Clone

ls -la

.git

Diff

Delta encoding

Blob

git log

Commit


3 est√°gios

1 - Modified
2 - Staged
3 - Commit

git log --stat

git status

Unstrack file

Build

.gitignore

git add nome do arquivo

git commit



git log --oneline

Working Directory

Diff

git diff

Newline

Amend

git commit --amend 

Gits s√£o imut√°veis












origin/main

branch

git push

pull

git commit -m "Mensagem"

git push --force ou --f







Continuos deployment

Client / Server


Hospedagem de site

Deploy

Continuos integration -> Build


Principle least privilege

Cada commit deployado, kkk, tem uma url unica









N1: Ser lembrado indivualmente; (Anotar tarefas no papel, em cima da mesa)
N2: Ser lembrado em grupo; (Quadro kambam)
N3: Expandir conhecimento; (Trello ou Github)
N4: Gerar metas. (Jira)


Issue inception

Milestones
    - Milestone 0: Em constru√ß√£o

Est√°gio 1 - In√≠cio
Est√°gio 2 - Progresso
Est√°gio 3 - Conclus√£o

Issues: 

Colocar o site num dom√≠nio .com.br
Definir estiliza√ß√£o do c√≥digo e configurar editor
Programar p√°gina de "Em constru√ß√£o"










Estiliza√ß√£o de c√≥digo √© essencial

- [ ] - Ligar sincroniza√ß√£o do editor
- [ ] - Configurar o EditorConfig
- [ ] - Configurar o Prettier


EditorConfig

.EditorConfig

root = true

[*] 
indent_style = space
indent_size = 2


Prettier / Standard js

npm install prettier -D ou --save-dev


no package.json
"lint:check": "prettier --check ."
"lint:fix": "prettier --write ."







DNS 2 - n√≠veis

IP √© o endere√ßo de cada computador

DNS √© um apelido

DNS <- Computador -> servidor
    ->

Recursive Resolver <- Computador
                    ->

Recursive Resolver -> Root Server
                   <-
                   -> TLD 
                   <-
                   -> Authoritative Server

FQDN

Root Domain - TLD - Authoritative Server - TTL
            ccTLD/gTLD












### Dia 12 - DNS (Pr√°tica)

Task da insue "Coloca o site num dom√≠nio .com.br"

- [ ] - Registrar dom√≠nio pr√≥prio
- [ ] - Configurar Servidor de DNS

Registrant -> Registrar -> Registry -> TLD

whatismydns -> NS

vieirarodrigo.com.br


Dizer para vercel o nosso dom√≠nio

Dizer para a TLD o nosso DNS


### Git e GitHub

# O que √© Git?

O Git √© um sistema de controle de vers√£o distribu√≠do, gratuito e de c√≥digo aberto, que permite rastrear e gerenciar as altera√ß√µes em um projeto de software ao longo do tempo. Ele foi criado por Linus Torvalds em 2005. O Git √© uma ferramenta essencial para desenvolvedores, facilitando a colabora√ß√£o em projetos, a cria√ß√£o de vers√µes e a revers√£o de altera√ß√µes caso necess√°rio. 

O Git √© como se fosse um v√≠deo no meu computador.

# O que √© GitHub?

O GitHub √© uma plataforma online que funciona como um grande reposit√≥rio de c√≥digo de programa√ß√£o, onde desenvolvedores podem armazenar, compartilhar e colaborar em projetos. √â essencialmente uma rede social para programadores, facilitando o trabalho em equipe e a colabora√ß√£o em projetos de c√≥digo aberto. 

O GitHub √© como o YouTube, uma plataforma que posso compartilhar ou assistir outros videos.

Para criar uma conta no GitHub: https://docs.github.com/pt/get-started/start-your-journey/creating-an-account-on-github

Para criar um reposit√≥rio no GitHub: https://docs.github.com/pt/repositories/creating-and-managing-repositories/creating-a-new-repository

### Codespaces

# O que √© codespaces?

Um codespace √© um ambiente de desenvolvimento virtual e hospedado na nuvem, oferecido pelo GitHub. Permite que os desenvolvedores escrevam, testem e depurem c√≥digo diretamente na nuvem, sem a necessidade de configura√ß√µes locais complexas. 

Como criar um codespace para um reposit√≥rio: https://docs.github.com/pt/codespaces/developing-in-a-codespace/creating-a-codespace-for-a-repository

### Aten√ß√£o

Aprenda a fun√ß√£o das coisas, n√£o se preenda a gostos pessoais.

### Anota√ß√µes pessoais

O Git √© um controlador de vers√µes, ele cria e gerencia v√°rias vers√µes do projeto. Ele faz uma c√≥pia sempre que voc√™ o chama, n√£o copiando totalmente, mas indicando as altera√ß√µes que foram realizadas em cada vers√£o.

O GitHub √© uma rede social, no qual posso compartilhar projetos, acessar, editar, copiar e interagir com projetos de outras pessoas.

O codespaces √© um espa√ßo para eu desenvolver meus projetos, ele cria uma m√°quina virtual com o vscode e um terminal, no qual me permite desenvolver sem as limita√ß√µes de um computador f√≠sico mais modesto.

### Refer√™ncias:

https://www.atlassian.com/br/git/tutorials/what-is-git
https://docs.github.com/pt/get-startedstart-your-journey/about-github-and-git
https://docs.github.com/pt/codespaces/about-codespaces/what-are-codespaces

#################################

"Se voc√™ quiser fazer uma torta de ma√ß√£ a partir do zero, voc√™ deve primeiro inventar o Universo." - Carl Sagan

N√£o √© poss√≠vel hoje come√ßar algo do zero, vamos precisar subir no ombro de gigantes e al√ßar novos voos. Isso n√£o √© um problema, podemos fazer coisas incr√≠veis em comunidade.

### Node.js

# O que √© node.js

Node.js √© um ambiente de execu√ß√£o JavaScript do lado do servidor, que permite aos desenvolvedores criar aplica√ß√µes web, APIs, e outras ferramentas de linha de comando utilizando a linguagem JavaScript.

Node.js √© como uma cozinha que permite preparar receitas (aplica√ß√µes) usando um fog√£o (ambiente de execu√ß√£o) que entende a linguagem do JavaScript.

# Terminal 

Terminal √© uma interface de linha de comando que permite interagir com um sistema operacional atrav√©s de comandos digitados, sme a necissade de uma interface gr√°fica.

Terminal √© como um peda√ßo de papel, ele permite que voc√™ intereja com o sistema operacional, enquanto o shell √© o "motor" que interpreta e executa seus comandos.

# Shell

√â uma interface que permite aos utilizadores interagir com um sistema operacional.

√â como a casca de um ovo, que protege o conte√∫do interno.

# NVM (Node Version Manager)

NVM √© uma ferramenta que permite aos desenvolvedores gerenciar v√°rias cers√µes do Node.js em um √∫nico sistema operacional.

# Para acessar os detalhes do NVM use:

nvm --help (node version manager ajuda)

### Como instalar uma vers√£o espec√≠fica do Node.js?

1¬∫ Vamos precisar listar as vers√µes disponiveis,vamos usar o comando: 

nvm ls (node version manager list)

2¬∫ Escolha a vers√£o, por exemplo lts/hydrogen, para isso use os comandos:

nvm install lts/hydrogen (node version manager install version)

### Como deixar a vers√£o anterior como padr√£o

Para isso vamos precisar definir como padr√£o a vers√£o deseja, conforme abaixo:

nvm alias default <version> (node version manager apelido padr√£o vers√£o)

### Declarar a vers√£o utilizada no projeto

Para deixar claro para outras pessoas e padronizar o projeto, precisamos deixar claro qual vers√£o do node vai ser utilizado, fazemos isso da forma abaixo:

1¬∫ Crie o arquivo abaixo na pasta raiz do projeto.
.nvmrc (node version manager run commands)

2¬∫ Dentro escreva a vers√£o desejada e pule uma linha.

Exemplo:
"
lts/hydrogen

"

### Next.js

√â um framework React para construir aplica√ß√µes web, que fornece uma estrutura e recursos extras para otimizar o desenvolvimento e melhorar o desempenho das aplica√ß√µes.

√â como um motor que facilita a constru√ß√£o de aplica√ß√µes web com React.

Tamb√©m para o Next e o React, √© necess√°rio indicar no projeto quais vers√µes foram utilizadas. Para isso vamos:

1¬∫ Precisamos inicializar o node no nosso projeto e esse comando vai criar um arquivo package.json, usamos o comando:

npm init (node package manager initialize)

2¬∫ Vamos escolher a vers√£o do next.js que ser√° utilizado, nesse exemplo vamos usar a vers√£o 13.1.6:

npm install next@13.1.6 (node package manager install <version>)

### React

√â uma biblioteca JavaScript de software livre, popularmente utilizada para construir interfaces de usu√°rio do lado do cliente (front-end).

√â como um sistema de blocos de constru√ß√£o para interfaces de usu√°rio, onde cada bloco (componente) pode ser utilizado e combinado para criar aplica√ß√µes complexas.

√â necess√°rio instalar a vers√£o do react, nesse exemplo √© a 18.2.0:

npm install react@18.2.0 (node package install <version>)

O ponto √© que o React foi separado entre seu core e suas renderiza√ß√µes, pois ele √© extremamente vasto.

Para HTML, quem renderiza √© o DOM, para isso vamos instalar a vers√£o do react DOM, para manipula-lo:

npm install react-dom@18.2.0 (node package install <version>)






O que √© um servi√ßo web?

Protocolos

HTTP
FTP
SMTP
UDP
IP

UDP TCP

next dev
"dev": "next dev"


Ctrl + L

pages

index.js 

function Home() {
    return <h1>Teste</h1>
}

export default Home;

deploy



#################
Control History

Versionamento de c√≥digo

sccs -> rcs -> cvs -> svn -> git
       centralizado        | distribu√≠do

Merge

Merge conflict

Clone

ls -la

.git

Diff

Delta encoding

Blob

git log

Commit


3 est√°gios

1 - Modified
2 - Staged
3 - Commit

git log --stat

git status

Unstrack file

Build

.gitignore

git add nome do arquivo

git commit



git log --oneline

Working Directory

Diff

git diff

Newline

Amend

git commit --amend 

Gits s√£o imut√°veis












origin/main

branch

git push

pull

git commit -m "Mensagem"

git push --force ou --f







Continuos deployment

Client / Server


Hospedagem de site

Deploy

Continuos integration -> Build


Principle least privilege

Cada commit deployado, kkk, tem uma url unica









N1: Ser lembrado indivualmente; (Anotar tarefas no papel, em cima da mesa)
N2: Ser lembrado em grupo; (Quadro kambam)
N3: Expandir conhecimento; (Trello ou Github)
N4: Gerar metas. (Jira)


Issue inception

Milestones
    - Milestone 0: Em constru√ß√£o

Est√°gio 1 - In√≠cio
Est√°gio 2 - Progresso
Est√°gio 3 - Conclus√£o

Issues: 

Colocar o site num dom√≠nio .com.br
Definir estiliza√ß√£o do c√≥digo e configurar editor
Programar p√°gina de "Em constru√ß√£o"










Estiliza√ß√£o de c√≥digo √© essencial

- [ ] - Ligar sincroniza√ß√£o do editor
- [ ] - Configurar o EditorConfig
- [ ] - Configurar o Prettier


EditorConfig

.EditorConfig

root = true

[*] 
indent_style = space
indent_size = 2


Prettier / Standard js

npm install prettier -D ou --save-dev


no package.json
"lint:check": "prettier --check ."
"lint:fix": "prettier --write ."







DNS 2 - n√≠veis

IP √© o endere√ßo de cada computador

DNS √© um apelido

DNS <- Computador -> servidor
    ->

Recursive Resolver <- Computador
                    ->

Recursive Resolver -> Root Server
                   <-
                   -> TLD 
                   <-
                   -> Authoritative Server

FQDN

Root Domain - TLD - Authoritative Server - TTL
            ccTLD/gTLD












### Dia 12 - DNS (Pr√°tica)

Task da insue "Coloca o site num dom√≠nio .com.br"

- [ ] - Registrar dom√≠nio pr√≥prio
- [ ] - Configurar Servidor de DNS

Registrant -> Registrar -> Registry -> TLD

whatismydns -> NS

vieirarodrigo.com.br


Dizer para vercel o nosso dom√≠nio

Dizer para a TLD o nosso DNS


dig site A +trace





###  Dia 13 - 

As pessoas est√£o se aproximando ou se afastando?

Teoria McDonalds


99.9% Uptime
9h/Ano ou 44min/m√™s

SLA

Status Pages

vercel status ou aws status ou github status

RDS






### Dia 14 - Milestone 1: Funda√ß√£o

## D1 - Inaugura√ß√£o Milestone 1: Funda√ß√£o

Front-end

Milestone 1: Funda√ß√£o
  Proposta de arquitetura e pastas
  Testes automatizados
  Banco de dados (Local)
  Migrations
  Continuos Integration
  Linter de c√≥digo
  Linter de commits
  Banco de dados (homologa√ß√£o e produ√ß√£o)
  Tipo da licen√ßa


## D2 - Uma hist√≥ria macabra sobre "Overengineering"

Overengineering - Excesso de engenharia (Complexo)

Voc√™ quer estar aqui

Underengineering - (Simples e mal feito)

Um software deve ser modific√°vel


## D3 - Porposta de Arquitetura e pastas

1. Arquitetura de software

MVC - Model View Controler

2. Organiza√ß√£o das pastas e arquivos

root
  pages
    index.js
  models
    user.js
    content.js
    password.js
  infra
    database.js
    migration
    provisioning
      staging
      production
  tests

## D4 - B√¥nus: PoC e MVP ajudam mesmo?

PoC - Proof of Concept
MVP - Minimum Viable Product




### Dia 15 

## D1 - Testes Automatizados: um caminho sem volta

62 Aulas??

- [ ] - Instalar o Test Runner
- [ ] - Criar um Teste de Teste
- [ ] - Criar um Teste de Verdade

## D2 - Instalar um Test Runner

C√≥digo que executa C√≥digo

Mocha | AVA | Playwight | Jest

npm install --save-dev jest@29.6.2

"test": "jest"
"test:watch": "jest --watch"


## D3 - Criar um "Teste de Teste"

Programar uma calculadora

npm run test -watch

tests

calculadora.test.js

test("nome do teste", callbackFunction);

function callbackFunction() {
  console.log("esta fun√ß√£o est√° sendo chamada?")
}

test("nome do teste", function () {
  console.log("e assim, funciona?");
})

test("nome do teste", () => {
  console.log("e agora?");
});

test("outro teste", () => {
  console.log("outro teste");
});

Expect - Espera

test("espero que 1 seja 1", () => {
  espect(1).toBe(1);
});

Valor gerado dinamicamente | Valor esperado




## D4 - Criar um "Teste de Verdade"

No MVC

Criar ferramentas (Model)

CommonJS (ESM)

Trasnpilling

expect(resultado)
Softcoded

.toBe(4)
Hardcoded

Teste n√£o diz que o codigo est√° certo, mas que algo passou ou n√£o em um teste

TDD





Resumo: 

E a√≠, pessoal do Curso.Dev! Sejam muito bem-vindos a mais uma aula que vai mudar completamente a forma como voc√™s encaram o desenvolvimento de software. Eu sei que o Felipe j√° tocou na import√¢ncia disso, mas hoje, a gente vai mergulhar de cabe√ßa nos **Testes Automatizados: um caminho sem volta**! Preparem-se para uma sacada que vai acelerar a carreira de voc√™s.

Pensem comigo: no desenvolvimento de software moderno, testar manualmente cada altera√ß√£o de c√≥digo √© como tentar esvaziar o Oceano Atl√¢ntico com um balde. Invi√°vel e ineficiente, n√©? √â por isso que os testes automatizados s√£o um pilar fundamental, proporcionando confian√ßa, seguran√ßa e agilidade para o projeto. Eles garantem que, a cada nova funcionalidade ou corre√ß√£o, o comportamento esperado da aplica√ß√£o seja verificado de forma autom√°tica.

Vamos estruturar nossa aula em tr√™s etapas essenciais, seguindo a did√°tica que a gente tanto preza:

### 1. Instalar um Test Runner

Primeiro, a gente precisa de uma ferramenta para "rodar" nossos testes. Pensem no "Test Runner" como o maestro da orquestra dos seus testes. Ele √© um c√≥digo que procura os arquivos de teste no seu projeto, executa o que voc√™ escreveu e te apresenta um relat√≥rio claro do que passou e do que falhou. No ecossistema JavaScript, temos v√°rias op√ß√µes de peso no mercado, como Mocha, AVA, Playwright e, claro, o **Jest**.

O Jest, desenvolvido pelo Facebook e recomendado pela equipe do React, √© um dos frameworks de teste mais populares e poderosos para projetos JavaScript. Por que ele? Simplicidade de configura√ß√£o, execu√ß√£o r√°pida, mock integrado, suporte a ES6/TypeScript e uma comunidade ativa que √© um verdadeiro *dream team* para tirar d√∫vidas.

**Como a gente instala o Jest?** Moleza! Primeiro, se voc√™ ainda n√£o tem um projeto Node.js inicializado, comece com:

```bash
npm init -y
```
Depois, adicione o Jest como uma depend√™ncia de desenvolvimento (ou seja, ele s√≥ √© necess√°rio para quem vai desenvolver e testar, n√£o para a vers√£o final da aplica√ß√£o):

```bash
npm install --save-dev jest
```
Isso instala a ferramenta que vai fazer a m√°gica acontecer.

Agora, uma **sacada de produtividade**: vamos configurar os scripts no seu `package.json` para facilitar a vida. Abra o seu `package.json` e adicione (ou ajuste) a se√ß√£o `scripts` assim:

```json
// package.json
{
  ...
  "scripts": {
    "test": "jest",
    "test:watch": "jest --watch"
  },
  ...
}
```
Com `"test": "jest"`, voc√™ roda todos os testes do projeto uma vez com `npm test`. J√° o `"test:watch": "jest --watch"` √© um verdadeiro *game-changer* durante o desenvolvimento! Ele faz com que o Jest fique "escutando" as altera√ß√µes nos seus arquivos e, ao salvar, roda automaticamente apenas os testes relevantes, dando um feedback instant√¢neo. Isso √© agilidade pura!

### 2. Criar um "Teste de Teste" (Sanity Check)

Antes de testar a l√≥gica complexa da sua aplica√ß√£o, a gente sempre come√ßa com um "Teste de Teste" ou um *sanity check*. O objetivo aqui √© super simples: validar se o Jest foi configurado corretamente e se ele est√° conseguindo encontrar e executar os arquivos de teste. √â a prova de vida do seu ambiente de testes!

Para isso, o Jest automaticamente reconhece arquivos com a extens√£o `.test.js` (ou `.spec.js`) como arquivos de teste. Uma estrutura comum para o seu projeto seria ter uma pasta `src` para o seu c√≥digo e uma pasta `tests` para os seus testes.

Vamos criar um arquivo dentro da sua pasta `tests`, por exemplo, `meuprimeiro.test.js`:

```javascript
// meuprimeiro.test.js
test("espero que 1 seja 1", () => {
  // expect(valor_gerado).toBe(valor_esperado);
  expect(1).toBe(1);
});
```

A fun√ß√£o `test()` define um teste individual, recebendo uma descri√ß√£o em string e uma fun√ß√£o *callback* com a l√≥gica do teste. E o cora√ß√£o do teste? √â a fun√ß√£o `expect()` combinada com um "matcher" como o `.toBe()`. O `expect(valor_dinamico).toBe(valor_esperado)` √© a forma de afirmar que o resultado do seu c√≥digo (`valor_dinamico`) √© exatamente igual ao que voc√™ esperava (`valor_esperado`).

Agora, execute seu "Teste de Teste" no terminal:

```bash
npm test
```

Se tudo deu certo, voc√™ ver√° uma sa√≠da parecida com esta:

```
PASS tests/meuprimeiro.test.js
‚úì espero que 1 seja 1 (x ms)
```
Isso confirma que seu ambiente de testes est√° funcionando perfeitamente! Palmas para voc√™s!

### 3. Criar um "Teste de Verdade"

Com o ambiente validado, √© hora de testar uma funcionalidade real da sua aplica√ß√£o. Vamos pegar um exemplo cl√°ssico, como testar uma fun√ß√£o `soma` em um arquivo `funcoes.js`.

Se voc√™ estiver seguindo padr√µes como MVC (Model-View-Controller), essa fun√ß√£o estaria na sua camada de Model, onde ficam as regras de neg√≥cio.

Primeiro, crie o arquivo `src/funcoes.js` com a sua fun√ß√£o:

```javascript
// src/funcoes.js
function soma(a, b) {
  return a + b;
}

module.exports = { soma }; // Usando CommonJS para exportar
```
**Aten√ß√£o aqui!** Para o arquivo de teste poder acessar sua fun√ß√£o `soma`, voc√™ precisa export√°-la. Usamos `module.exports` e `require` para m√≥dulos CommonJS, que √© o padr√£o mais comum em projetos Node.js mais antigos e √© o que o Jest usa por padr√£o. Se voc√™ estivesse em um projeto mais moderno com ES Modules (ESM), usaria `export` e `import`, mas isso pode exigir alguma configura√ß√£o adicional, como um *transpiler* tipo Babel, para garantir compatibilidade com ambientes que ainda n√£o suportam ESM nativamente. No nosso caso simples, `module.exports` e `require` funcionam direto com Jest.

Agora, crie o arquivo de teste `tests/funcoes.test.js`:

```javascript
// tests/funcoes.test.js
const { soma } = require('../src/funcoes'); // Importando a fun√ß√£o a ser testada

test('soma dois n√∫meros', () => {
  expect(soma(1, 2)).toBe(3);
});

test('soma n√∫meros negativos', () => {
  expect(soma(-1, -2)).toBe(-3);
});

test('soma com zero', () => {
  expect(soma(5, 0)).toBe(5);
});
```

Execute novamente `npm test` e veja a m√°gica acontecer! Voc√™ ver√° todos os seus testes passando.

Uma "sacada" important√≠ssima sobre testes √© a diferen√ßa entre valores "hardcoded" e "softcoded".
*   **Hardcoded (Valor Fixo):** √â o valor que voc√™ escreve diretamente no teste como o resultado esperado. No exemplo `expect(resultado).toBe(4);`, o `4` √© *hardcoded*. Isso √© fundamental em testes unit√°rios, pois voc√™ quer garantir que uma entrada espec√≠fica sempre gere uma sa√≠da espec√≠fica e previs√≠vel.
*   **Softcoded (Valor Din√¢mico):** Refere-se ao valor gerado pelo seu c√≥digo, como a vari√°vel `resultado` em `expect(resultado)`. Esse valor √© din√¢mico e ser√° comparado com o valor *hardcoded* que voc√™ espera.

**Filosofia do Teste:** Entendam bem isso: um teste que passa *n√£o prova* que seu c√≥digo est√° 100% certo. Ele apenas prova que, para a *situa√ß√£o espec√≠fica* que voc√™ testou, o c√≥digo se comportou como o esperado. Se a sua fun√ß√£o `soma` fosse `return 4;`, o teste `soma(1,2).toBe(3)` falharia, mas `soma(2,2).toBe(4)` passaria ‚Äì o que mostra a necessidade de m√∫ltiplos casos de teste para ter confian√ßa.

Isso nos leva a uma metodologia poderosa: o **TDD - Test-Driven Development (Desenvolvimento Guiado por Testes)**. O ciclo √© simples, mas revolucion√°rio:
1.  **Red (Vermelho):** Escreva um teste para uma funcionalidade que ainda n√£o existe. Rode o teste e veja-o falhar.
2.  **Green (Verde):** Escreva o *m√≠nimo* de c√≥digo poss√≠vel para fazer o teste passar.
3.  **Refactor (Refatorar):** Melhore o c√≥digo que voc√™ escreveu sem alterar seu comportamento, garantindo que o teste continue passando.

Essa abordagem n√£o s√≥ garante que seu c√≥digo esteja coberto por testes desde o in√≠cio, mas tamb√©m incentiva a cria√ß√£o de um c√≥digo mais simples, modular e f√°cil de manter!

Para ir al√©m, voc√™s podem at√© gerar relat√≥rios de **cobertura de c√≥digo** com Jest. Basta adicionar `--coverage` ao script de teste no `package.json`:

```json
// package.json
{
  ...
  "scripts": {
    "test": "jest --coverage"
  },
  ...
}
```
Ao rodar `npm test` novamente, o Jest vai gerar um relat√≥rio detalhado mostrando a porcentagem do seu c√≥digo que est√° sendo coberta pelos testes. Isso √© crucial para entender qu√£o "testado" seu c√≥digo realmente est√°.

√â isso, pessoal! Voc√™s deram os primeiros passos s√≥lidos em testes automatizados com Jest. Lembrem-se: testes n√£o s√£o um custo, s√£o um **investimento** na qualidade e na sustentabilidade do seu software. Continuem explorando e testando sem medo! E qualquer d√∫vida, podem me procurar, porque aqui no Curso.Dev, a gente n√£o deixa ningu√©m para tr√°s. Bons c√≥digos!


Dia 16: 

üöó Pista R√°pida: Dia 16

O Dia 16 √© mais um daqueles dias especiais aqui no curso.dev porque mistura parte te√≥rica, parte pr√°tica e tamb√©m como ser um profissional melhor. E eu diria que esta √∫ltima parte de ser um profissional melhor √© o que faz grudar na sua mente a parte te√≥rica e pr√°tica, tanto que no final dessa Pista R√°pida aqui eu adicionei uma mensagem extra que eu n√£o coloquei em nenhuma Pista Lenta üí™

Anota√ß√µes:

Este dia focou em como garantir a qualidade e a comunica√ß√£o em software, culminando em uma li√ß√£o fundamental sobre como abordar a tecnologia.

1. Estrat√©gia de Testes: Garantindo a Qualidade
A qualidade do software √© verificada atrav√©s de diferentes tipos de testes, organizados estrategicamente.

Pir√¢mide de Testes: √â o modelo cl√°ssico para pensar em testes.
  * Base (Testes Unit√°rios): Testam a menor parte do c√≥digo (uma fun√ß√£o, um componente) de forma isolada. S√£o r√°pidos, baratos e devem existir em grande quantidade.
  
  * Meio (Testes de Integra√ß√£o): Verificam se diferentes unidades do sistema funcionam corretamente juntas. Exemplo: testar se a API, ao ser chamada, consegue de fato gravar os dados no banco de dados. S√£o mais lentos e complexos que os testes unit√°rios.
  
  * Topo (Testes de Ponta-a-Ponta): Simulam a jornada completa do usu√°rio na aplica√ß√£o. S√£o os mais lentos e caros.

Alternativas: Existem outros modelos al√©m da pir√¢mide (como o "favo de mel"), mas o princ√≠pio de ter uma estrat√©gia com diferentes camadas de teste permanece.

2. APIs: A Linguagem da Comunica√ß√£o entre Sistemas
Os testes de integra√ß√£o frequentemente validam a comunica√ß√£o entre diferentes partes de um sistema, que ocorre via APIs.

API (Interface de Programa√ß√£o de Aplica√ß√µes): √â um contrato que define como um software "conversa" com outro. O conceito de "interface" √© universal: pode ser uma interface gr√°fica (para um humano) ou uma interface program√°tica (para outro sistema).

Protocolo HTTP: √â o conjunto de regras que possibilita a comunica√ß√£o em APIs na web (requisi√ß√µes e respostas).

curl: Uma ferramenta de linha de comando essencial para interagir e testar APIs diretamente, enviando requisi√ß√µes HTTP sem a necessidade de um navegador.

Breaking Changes: Uma mudan√ßa em uma API que quebra a integra√ß√£o para quem j√° a utiliza (ex: renomear um campo). Exige cuidado e versionamento (v1 -> v2).

Non-Breaking Changes: Uma mudan√ßa que n√£o quebra a integra√ß√£o (ex: adicionar um novo campo opcional).

3. A Mentalidade Chave: Nada √© M√°gico
Esta √© a li√ß√£o que conecta tudo e eleva um profissional:

Entender como as tecnologias funcionam "por dentro" √© mais importante do que apenas us√°-las.

Achar que as ferramentas e processos funcionam por "magia" limita sua capacidade de resolver problemas complexos. Um profissional de destaque se diferencia pela curiosidade de desmontar a "caixa-preta", seja para entender melhor os protocolos de comunica√ß√£o (HTTP), as ferramentas de teste (curl) ou as estrat√©gias de qualidade (Pir√¢mide de Testes). Essa profundidade de conhecimento √© o que realmente solidifica o aprendizado e a sua efic√°cia.





A maior briga no universo dos Testes Automatizados
Testes Automatizados √© um assunto t√£o importante quanto ele √© pass√≠vel de gerar briga na internet e nessa aula eu vou mostrar o motivo. √â muito importante voc√™ estar preparado para esse tipo de discuss√£o, principalmente sobre a diferen√ßa entre testes unit√°rios, integra√ß√£o e e2e üí™

Pergunta
Qual a sua defini√ß√£o sobre os tipos de teste que existem?

Resposta
Acredito que o meio termo seja o caminho como foi ensinado na aula.

Anota√ß√µes:

Issue: Banco de dados (homologa√ß√£o e produ√ß√£o) #11

-[] Criar endpoint `/status`
-[] Subir Banco de Dados (Local)
-[] Criar m√≥dulo `database.js`

O debate sobre qual tipo de teste √© "melhor" √© comum porque cada um oferece um tipo diferente de confian√ßa e possui custos distintos. A chave, como visto na aula, √© encontrar um equil√≠brio que funcione para o projeto, em vez de seguir um dogma.

1. A Hierarquia dos Testes

Pir√¢mide de Testes (Modelo Cl√°ssico): Prop√µe uma base larga de testes r√°pidos e baratos, e um topo estreito de testes lentos e caros.
  * Unit (Unit√°rios): Testa uma √∫nica fun√ß√£o ou componente de forma isolada. R√°pido, mas n√£o garante que o sistema funciona como um todo.
  
  * Integration (Integra√ß√£o): Testa como duas ou mais partes do sistema interagem. Ex: Testa se a API consegue se comunicar com o banco de dados. Fornece mais confian√ßa que um teste unit√°rio.

  * E2E (Ponta-a-Ponta): Simula a jornada completa do usu√°rio atrav√©s da interface gr√°fica (UI). √â o teste que d√° mais confian√ßa, por√©m √© o mais lento, caro e fr√°gil.

2. Alternativas e a Tend√™ncia "API First"

Trof√©u de Teste / Favo de Mel: S√£o modelos alternativos que questionam a hegemonia dos testes unit√°rios e d√£o maior √™nfase aos testes de integra√ß√£o.

API First: Uma abordagem que prioriza o desenvolvimento e o teste da API. Nesse cen√°rio, os testes de integra√ß√£o se tornam o foco principal, pois garantem que os contratos da API e suas conex√µes com outros servi√ßos (como o banco de dados) s√£o confi√°veis.

3. Passos Pr√°ticos para um Teste de Integra√ß√£o
As anota√ß√µes pr√°ticas s√£o um exemplo de como construir um teste de integra√ß√£o para um endpoint que verifica a "sa√∫de" da conex√£o com o banco de dados:

  * Criar o m√≥dulo database.js: Isola a l√≥gica de conex√£o com o banco de dados.

  * Subir o Banco de Dados (Local): Preparar o ambiente para que o teste possa interagir com um banco de dados real.

  * Criar o endpoint /status: Um endpoint na API que, ao ser acessado, ir√° utilizar o m√≥dulo database.js para verificar o status da conex√£o, provando que a integra√ß√£o entre a API e o banco est√° funcionando.




Encostando a m√£o no Protocolo HTTP üî•
Essa aula vai ser muito massa, porque eu e voc√™ vamos encostar a m√£o no protocolo HTTP e isso n√£o somente vai esclarecer na sua mente muita coisa sobre tudo o que existe na internet, como tamb√©m vai ser a base para conseguir entender de fato (ou revisitar) muita coisa importante como: cookies, cabe√ßalhos, status codes, mas tirando toda a magia de onde esses dados vem, e tudo isso vai colocar voc√™ um passo mais pr√≥ximo da senioridade, ou pelo menos, vai fazer voc√™ conseguir ter conversas s√©rias, muito mais avan√ßadas e certeiras quando o contexto pedir por uma pessoa que tenha maturidade e experi√™ncia nesse assunto.

Anota√ß√µes:

O objetivo desta aula √© remover a "magia" do funcionamento da internet, entendendo na pr√°tica como o protocolo HTTP funciona. Esse conhecimento √© a base para dominar t√≥picos como APIs, cabe√ßalhos e status codes, e √© um passo fundamental para a senioridade t√©cnica.

1. O Papel das Interfaces e Abstra√ß√µes
API (Interface de Programa√ß√£o de Aplica√ß√µes): O princ√≠pio fundamental √© que "tudo √© uma interface". Seja uma interface de usu√°rio (gr√°fica) ou uma interface program√°vel (API), o objetivo √© o mesmo.

Abstra√ß√£o: Interfaces s√£o uma forma de abstra√ß√£o. Elas nos permitem usar uma funcionalidade sem precisar conhecer os detalhes de sua implementa√ß√£o interna. Elas definem um "contrato" de como interagir com um sistema.

2. Criando um Endpoint de API com Next.js
File-based Routing: No Next.js, o roteamento √© baseado em arquivos. Ao criar um arquivo dentro da pasta /pages/api/, ele automaticamente se torna um endpoint de API p√∫blico.

Exemplo (/pages/api/status.js): Um arquivo que exporta uma fun√ß√£o se torna um "ponto final" onde um cliente pode fazer uma requisi√ß√£o.

``` JavaScript

// A fun√ß√£o recebe dois objetos principais:
// request: Cont√©m os dados da requisi√ß√£o que chega.
// response: Cont√©m os m√©todos para construir e enviar a resposta.
function status(request, response) {
  // .status(200) define o HTTP Status Code para "OK".
  // .json({}) envia uma resposta no formato JSON.
  response.status(200).json({ status: "ok" });
}

export default status;

```

3. A Diferen√ßa entre .send() e .json()
O m√©todo .send() envia os dados, mas n√£o especifica o tipo de conte√∫do ou o charset.

O m√©todo .json() √© mais inteligente: ele automaticamente define o cabe√ßalho (Header) da resposta para Content-Type: application/json; charset=utf-8, informando ao cliente como interpretar os dados recebidos.

4. "Encostando a M√£o" no HTTP com curl
curl √© uma ferramenta de linha de comando para fazer requisi√ß√µes HTTP, permitindo ver a comunica√ß√£o "crua" entre cliente e servidor.

Comando: curl http://localhost:3000/api/status --verbose (ou -v).

A flag --verbose: Revela todos os detalhes da transa√ß√£o HTTP que normalmente ficam ocultos.

> (Request): Mostra os cabe√ßalhos que o seu cliente (curl) enviou para o servidor.

< (Response): Mostra os cabe√ßalhos que o servidor enviou de volta como resposta.

* (Curl Internals): Mostra informa√ß√µes sobre o processo de conex√£o que o curl est√° executando.

Usar o curl --verbose √© a forma pr√°tica de ver os cabe√ßalhos (como o Content-Type) e os status codes (como o 200) em a√ß√£o, transformando teoria em conhecimento concreto.



N√£o √© magia! (√© Protocolo)
Eu sugiro voc√™ ter um √∫nico objetivo com estas aulas mais recentes, que √© acreditar que, na area de tecnologia ou na programa√ß√£o num geral, n√£o existe magia... n√£o existe mesmo! Toda informa√ß√£o est√° em algum lugar e voc√™ pode n√£o conhecer esse lugar e naturalmente assumir que √© um local m√°gico, mas n√£o √©.

Ent√£o nesta aula n√≥s iremos cavucar um pouco mais o Protocolo HTTP na procura de informa√ß√µes que muitas pessoas encaram como "m√°gicas" üí™

Anota√ß√µes:

O objetivo √© provar que n√£o existe "magia" em tecnologia. Toda informa√ß√£o est√° em algum lugar, e entender onde ela est√° √© o que diferencia um profissional. Nesta aula, o foco √© entender como um servidor compartilhado sabe qual site deve entregar para o cliente.

1. O Problema: Um Servidor, V√°rios Sites (Virtual Hosts)

Servidor Simples: No passado, um √∫nico endere√ßo de IP geralmente correspondia a um √∫nico site. Acessar o IP abria o site.

Virtual Host (Servidor Compartilhado): Hoje, √© comum que um √∫nico servidor (com um s√≥ IP) hospede centenas ou milhares de sites diferentes (como os da Vercel).

A "Magia": Se v√°rios dom√≠nios (ex: siteA.com, siteB.com) apontam para o mesmo IP, como o servidor sabe qual deles o usu√°rio quer ver?

2. A Solu√ß√£o: O Cabe√ßalho Host do Protocolo HTTP
A resposta n√£o √© m√°gica, est√° dentro do protocolo HTTP.

Quando voc√™ acessa um site, seu navegador primeiro usa o DNS para descobrir o IP do servidor daquele dom√≠nio.

Em seguida, ele envia uma requisi√ß√£o HTTP para esse IP. Dentro dessa requisi√ß√£o, existe um cabe√ßalho (header) chamado Host.

O valor do cabe√ßalho Host √© o dom√≠nio que voc√™ digitou (ex: Host: siteA.com).

O servidor da Vercel (ou qualquer outro com Virtual Hosts) l√™ este cabe√ßalho Host para saber qual dos m√∫ltiplos sites que ele hospeda deve ser entregue ao cliente.

3. Provando o Conceito com curl

Podemos simular esse processo manualmente para provar que √© o cabe√ßalho Host que comanda a opera√ß√£o.

Comando: curl ip_do_servidor --insecure --verbose --header 'Host: nome_do_site.com'

An√°lise do Comando:

curl ip_do_servidor: Faz a requisi√ß√£o diretamente ao IP do servidor, pulando a etapa do DNS.

--header 'Host: nome_do_site.com': Aqui est√° o segredo. Estamos manualmente adicionando o cabe√ßalho HTTP, dizendo ao servidor qual site queremos acessar.

--insecure: Necess√°rio porque o certificado de seguran√ßa (HTTPS) geralmente est√° associado ao dom√≠nio, e n√£o ao IP. Sem essa flag, o curl daria um erro de certificado.

--verbose: Exibe todos os detalhes da requisi√ß√£o e da resposta, permitindo ver o cabe√ßalho Host que enviamos em a√ß√£o.

Este exerc√≠cio pr√°tico demonstra que a sele√ß√£o do site n√£o √© m√°gica, mas sim o resultado da leitura de uma informa√ß√£o clara e acess√≠vel enviada atrav√©s do protocolo HTTP.







Versionamento de API e Endpoint "/status"
A aula de hoje tem muito mais conte√∫dos sobre API e HTTP, mas ela um objetivo muito claro e que j√° est√° super encaminhado, que √© completar a tarefa Criar endpoint /status, e em cima disto iremos aprender sobre Versionamento de API e Breaking Changes ü§ù

Anota√ß√µes:

Evoluir uma API √© um processo delicado. √â preciso adicionar novas funcionalidades sem quebrar a integra√ß√£o para os clientes que j√° a utilizam. A chave para isso √© uma boa estrat√©gia de versionamento.

1. O Contrato da API: Breaking vs. Non-Breaking Changes
Non-Breaking Change: Uma mudan√ßa aditiva, como adicionar uma nova propriedade √† resposta. O consumidor deve estar preparado para receber mais dados do que o esperado sem quebrar.

Breaking Change: Uma mudan√ßa que quebra a compatibilidade com vers√µes anteriores (ex: renomear ou remover uma propriedade). O fornecedor da API precisa de uma estrat√©gia para introduzir essas mudan√ßas.

Estrat√©gias de Versionamento: As mais comuns s√£o via URL (URI Path Versioning) ou via cabe√ßalho HTTP (Header Versioning). A aula foca na primeira.

2. Implementando o Versionamento via URL (Path Versioning)
A abordagem √© criar um "prefixo" na URL que indica a vers√£o da API.

Estrutura de Pastas:

Dentro da pasta /pages/api, cria-se uma pasta para a vers√£o: /v1.

A l√≥gica do endpoint (o antigo status.js) √© movida para dentro da nova estrutura, resultando em: pages/api/v1/status/index.js.

Resultado: O endpoint, que antes era /api/status, agora se torna /api/v1/status, indicando claramente que esta √© a vers√£o 1.

3. Testando o Endpoint Versionado
√â crucial garantir que a nova URL funcione como esperado.

Organiza√ß√£o dos Testes: A estrutura de pastas dos testes de integra√ß√£o (/integration) deve espelhar a da API: integration/api/v1/status/get.test.js.

C√≥digo do Teste (get.test.js):

``` JavaScript

// No protocolo HTTP, √© preciso especificar o m√©todo (GET, POST, etc.)
test("GET to /api/v1/status should return 200", async () => {
  const response = await fetch("http://localhost:3000/api/v1/status");
  expect(response.status).toBe(200);
});

Observa√ß√£o sobre async/await:
A fun√ß√£o fetch realiza uma opera√ß√£o de rede, que √© ass√≠ncrona (n√£o acontece instantaneamente). Ela retorna uma Promise (promessa) de uma resposta futura.
await √© usado para pausar a execu√ß√£o da fun√ß√£o at√© que a Promise do fetch seja resolvida (ou seja, at√© a resposta chegar).

Toda fun√ß√£o que usa await precisa ser declarada como async.

4. Limpeza do Projeto
"Deletar a pasta de teste unit√°rios e o arquivo da calculadora": Este passo simboliza a evolu√ß√£o do projeto. O foco sai de exemplos did√°ticos (testes unit√°rios de uma calculadora) e passa para testes mais realistas e de maior valor para o projeto: os testes de integra√ß√£o da API.